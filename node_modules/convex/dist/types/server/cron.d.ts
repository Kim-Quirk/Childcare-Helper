import { GenericAPI, OptionalRestArgs } from "../browser/index.js";
import { JSONValue, Value } from "../values/index.js";
import { SchedulableFunctionNames, NamedSchedulableFunction } from "./scheduler.js";
declare type CronSchedule = {
    type: "cron";
    cron: string;
};
/** @public */
export declare type IntervalSchedule = {
    type: "interval";
    seconds: number;
} | {
    type: "interval";
    minutes: number;
} | {
    type: "interval";
    hours: number;
};
/** @public */
export declare type HourlySchedule = {
    type: "hourly";
    minuteUTC: number;
};
/** @public */
export declare type DailySchedule = {
    type: "daily";
    hourUTC: number;
    minuteUTC: number;
};
declare const DAYS_OF_WEEK: string[];
declare type DayOfWeek = (typeof DAYS_OF_WEEK)[number];
/** @public */
export declare type WeeklySchedule = {
    type: "weekly";
    dayOfWeek: DayOfWeek;
    hourUTC: number;
    minuteUTC: number;
};
/** @public */
export declare type MonthlySchedule = {
    type: "monthly";
    day: number;
    hourUTC: number;
    minuteUTC: number;
};
/** @public */
export declare type Interval = {
    /**
     * Run a job every `seconds` seconds, beginning
     * when the job is first deployed to Convex.
     */
    seconds: number;
    minutes?: undefined;
    hours?: undefined;
} | {
    /**
     * Run a job every `minutes` minutes, beginning
     * when the job is first deployed to Convex.
     */
    minutes: number;
    seconds?: undefined;
    hours?: undefined;
} | {
    /**
     * Run a job every `hours` hours, beginning when
     * when the job is first deployed to Convex.
     */
    hours: number;
    seconds?: undefined;
    minutes?: undefined;
};
/** @public */
export declare type Hourly = {
    /**
     * Minutes past the hour, 0-59.
     */
    minuteUTC: number;
};
/** @public */
export declare type Daily = {
    /**
     * 0-23, hour of day. Remember, this is UTC.
     */
    hourUTC: number;
    /**
     * 0-59, minute of hour. Remember, this is UTC.
     */
    minuteUTC: number;
};
/** @public */
export declare type Monthly = {
    /**
     * 1-31, day of month. Days greater that 28 will not run every month.
     */
    day: number;
    /**
     * 0-23, hour of day. Remember to convert from your own time zone to UTC.
     */
    hourUTC: number;
    /**
     * 0-59, minute of hour. Remember to convert from your own time zone to UTC.
     */
    minuteUTC: number;
};
/** @public */
export declare type Weekly = {
    /**
     * "monday", "tuesday", etc.
     */
    dayOfWeek: DayOfWeek;
    /**
     * 0-23, hour of day. Remember to convert from your own time zone to UTC.
     */
    hourUTC: number;
    /**
     * 0-59, minute of hour. Remember to convert from your own time zone to UTC.
     */
    minuteUTC: number;
};
/** @public */
export declare type Schedule = CronSchedule | IntervalSchedule | HourlySchedule | DailySchedule | WeeklySchedule | MonthlySchedule;
/**
 * A schedule to run a Convex mutation or action on.
 * You can schedule Convex functions to run regularly with
 * {@link interval} and exporting it.
 *
 * @public
 **/
export interface CronJob {
    name: string;
    args: JSONValue;
    schedule: Schedule;
}
/**
 * Internal type helper used by Convex code generation.
 *
 * If you're using code generation, use the `cronJobs` function in
 * `convex/_generated/server.js` which is typed for your API.
 *
 *
 * ```js
 * // convex/crons.js
 * import { cronJobs } from 'convex/server';
 *
 * const crons = cronJobs();
 * crons.weekly(
 *   "weekly re-engagement email",
 *   {
 *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)
 *     minuteUTC: 30,
 *   },
 *   "sendEmails"
 * )
 * export default crons;
 * ```
 *
 * @public
 */
export declare const cronJobsGeneric: <API extends GenericAPI>() => Crons<API>;
/**
 * @public
 *
 * This is a cron string. They're complicated!
 */
declare type CronString = string;
/**
 * @public
 */
export declare type CronJobsForAPI<API extends GenericAPI> = () => Crons<API>;
/**
 * A class for scheduling cron jobs.
 *
 * To learn more see the documentation at https://docs.convex.dev/scheduling/cron-jobs
 *
 * @public
 */
export declare class Crons<API extends GenericAPI> {
    crons: Record<string, CronJob>;
    isCrons: true;
    constructor();
    /** @internal */
    schedule(cronIdentifier: string, schedule: Schedule, name: string, args?: Record<string, Value>): void;
    /**
     * Schedule a mutation or action to run on an hourly basis.
     *
     * ```js
     * crons.interval("Clear presence data", {seconds: 30}, "clearPresence");
     * ```
     *
     * @param identifier - A unique name for this scheduled job.
     * @param schedule - The time between runs for this scheduled job.
     * @param functionName - The name of the function to schedule.
     * @param args - The arguments to the function.
     */
    interval<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Interval, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    /**
     * Schedule a mutation or action to run on a daily basis.
     *
     * ```js
     * crons.daily(
     *   "Reset high scores",
     *   {
     *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)
     *     minuteUTC: 30,
     *   },
     *   "resetHighScores"
     * )
     * ```
     *
     * @param cronIdentifier - A unique name for this scheduled job.
     * @param schedule - What time (UTC) each day to run this function.
     * @param functionName - The name of the function to schedule.
     * @param args - The arguments to the function.
     */
    hourly<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Hourly, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    /**
     * Schedule a mutation or action to run on a daily basis.
     *
     * ```js
     * crons.daily(
     *   "Reset high scores",
     *   {
     *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)
     *     minuteUTC: 30,
     *   },
     *   "resetHighScores"
     * )
     * ```
     *
     * @param cronIdentifier - A unique name for this scheduled job.
     * @param schedule - What time (UTC) each day to run this function.
     * @param functionName - The name of the function to schedule.
     * @param args - The arguments to the function.
     */
    daily<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Daily, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    /**
     * Schedule a mutation or action to run on a weekly basis.
     *
     * ```js
     * crons.weekly(
     *   "Weekly re-engagement email",
     *   {
     *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)
     *     minuteUTC: 30,
     *   },
     *   "sendExpiringMessage"
     * )
     * ```
     *
     * @param cronIdentifier - A unique name for this scheduled job.
     * @param schedule - What day and time (UTC) each week to run this function.
     * @param functionName - The name of the function to schedule.
     */
    weekly<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Weekly, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    /**
     * Schedule a mutation or action to run on a monthly basis.
     *
     * Note that some months have fewer days than others, so e.g. a function
     * scheduled to run on the 30th will not run in February.
     *
     * ```js
     * crons.monthly(
     *   "Bill customers at ",
     *   {
     *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)
     *     minuteUTC: 30,
     *     day: 1,
     *   },
     *   "billCustomers"
     * )
     * ```
     *
     * @param cronIdentifier - A unique name for this scheduled job.
     * @param schedule - What day and time (UTC) each month to run this function.
     * @param functionName - The name of the function to schedule.
     * @param args - The arguments to the function.
     */
    monthly<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Monthly, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    /**
     * Schedule a mutation or action to run on a recurring basis.
     *
     * Like the unix command `cron`, Sunday is 0, Monday is 1, etc.
     *
     * ```
     *  ┌─ minute (0 - 59)
     *  │ ┌─ hour (0 - 23)
     *  │ │ ┌─ day of the month (1 - 31)
     *  │ │ │ ┌─ month (1 - 12)
     *  │ │ │ │ ┌─ day of the week (0 - 6) (Sunday to Saturday)
     * "* * * * *"
     * ```
     *
     * @param cronIdentifier - A unique name for this scheduled job.
     * @param cron - Cron string like `"15 7 * * *"` (Every day at 7:15 UTC)
     * @param functionName - The name of the function to schedule.
     * @param args - The arguments to the function.
     */
    cron<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, cron: CronString, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    /** @internal */
    export(): string;
}
export {};
//# sourceMappingURL=cron.d.ts.map